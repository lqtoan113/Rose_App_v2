<!DOCTYPE html>
<html lang="en" th:replace="~{admin/index.html :: dynamic(~{::body})}">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order-details admin</title>
</head>

<body ng-controller="order-ctrl">
    <div class="container-xxl flex-grow-1 container-p-y">
        <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Order Settings /</span> Order</h4>
        <div class="row d-f justify-content-around">
            <div class="col-lg-2-2 col-md-6 col-6 mb-4 mt-2 ms-4 align-self-start">
                <div class="card">
                    <div class="card-body h-pt">
                        <div class="card-title d-flex align-items-start">
                            <span class="avatar-initial rounded bg-label-info"><i class='bx bxs-basket clo-pend'></i></span>
                            <div class="avatar flex-shrink-0">
                                <span class="fw-semibold d-block mt-0 ml-mt color-status-p">PENDING ACCEPT</span>
                            </div>
                        </div>
                        <div class="d-flex">
                            <div class="col-sm-5 mr-percent">
                                <h5 class="card-title mb-2">Today: {{orderByStatus.todayPendingAcceptOrder}}</h5>
                            </div>
                            <div class="col-sm-5 ml-percent">
                                <small class="text-success fw-semibold"><i class="bx bx-up-arrow-alt"></i> +72.80%</small>
                                <small class="text-danger fw-semibold"><i class="bx bx-down-arrow-alt"></i> -14.82%</small>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="col-lg-2-2 col-md-6 col-6 mb-4 mt-2 ms-4 align-self-center">
                <div class="card">
                    <div class="card-body h-pt">
                        <div class="card-title d-flex align-items-start">
                            <span class="avatar-initial rounded bg-label-info"><i class='bx bxs-basket'></i></span>
                            <div class="avatar flex-shrink-0">
                                <span class="fw-semibold d-block mt-1 ml-mt color-status-ac">ACCEPTED</span>
                            </div>
                        </div>
                        <div class="d-flex">
                            <div class="col-sm-5  mr-percent">
                                <h5 class="card-title mb-2">Today: {{orderByStatus.todayAcceptOrder}}</h5>
                            </div>
                            <div class="col-sm-5 ml-percent">
                                <small class="text-success fw-semibold"><i class="bx bx-up-arrow-alt"></i> +52.80%</small>
                                <small class="text-danger fw-semibold"><i class="bx bx-down-arrow-alt"></i> -11.00%</small>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="col-lg-2-2 col-md-6 col-6 mb-4 mt-2 ms-4 align-self-end">
                <div class="card">
                    <div class="card-body h-pt">
                        <div class="card-title d-flex align-items-start">
                            <span class="avatar-initial rounded bg-label-danger"><i class='bx bxs-basket'></i></span>
                            <div class="avatar flex-shrink-0">
                                <span class="fw-semibold d-block mt-1 ml-mt color-status-can">CANCELLED</span>
                            </div>
                        </div>
                        <div class="d-flex">
                            <div class="col-sm-5  mr-percent">
                                <h5 class="card-title mb-2">Today: {{orderByStatus.todayCancelOrder}}</h5>
                            </div>
                            <div class="col-sm-5  ml-percent">
                                <small class="text-success fw-semibold"><i class="bx bx-up-arrow-alt"></i> +0.00%</small>
                                <small class="text-danger fw-semibold"><i class="bx bx-down-arrow-alt"></i> -2.82%</small>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="col-lg-2-2 col-md-6 col-6 mb-4 mt-2 ms-4 align-self-start">
                <div class="card">
                    <div class="card-body h-pt">
                        <div class="card-title d-flex align-items-start">
                            <span class="avatar-initial rounded bg-label-success"><i class='bx bxs-basket clo-sh'></i></span>
                            <div class="avatar flex-shrink-0">
                                <span class="fw-semibold d-block mt-1 ml-mt color-status-sh">SHIPPING</span>
                            </div>
                        </div>
                        <div class="d-flex">
                            <div class="col-sm-5  mr-percent">
                                <h5 class="card-title mb-2">Today:  {{orderByStatus.todayShippingOrder}}</h5>
                            </div>
                            <div class="col-sm-5  ml-percent">
                                <small class="text-success fw-semibold"><i class="bx bx-up-arrow-alt"></i> +52.80%</small>
                                <small class="text-danger fw-semibold"><i class="bx bx-down-arrow-alt"></i> 0.00%</small>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div style="margin-top: 16px;margin-left: 16px;margin-bottom: 10px;"
                        class="navbar-nav align-items-left">

                        <div class="d-flex ">
                            <div class="col-sm-4 nav-item d-flex align-items-left align-items-center">
                                <i class="bx bx-search fs-4 lh-0"></i>
                                <input type="text" ng-model="searchtxt" class="form-control border-0 shadow-none"
                                       placeholder="Search..." aria-label="Search..." />
                            </div>
                            <div>
                                <label class="col-form-label text-blk">Start Date</label>
                                <input ng-init="model=(startDate | date:'yyyy-MM-dd')"  type="date" name="S_Date" ng-model="startDate"/>
                            </div>
                            <div class="ms-4">
                                <label class="col-form-label text-blk">End Date</label>
                                <input ng-init="model=(endDate | date:'yyyy-MM-dd')"  type="date" name="E_Date" ng-model="endDate"/>
                            </div>
                            <div class="ms-4">
                                <button class="btn btn-success me-2 mt-btn-rs-order" ng-click="resetSortByDate()">Reset</button>
                            </div>
                        </div>

                    </div>
                    <div class="container m-t-30 m-b-80">
                        <div class="card">
                            <div class="table-responsive text-nowrap table-shadow">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Order ID</th>
                                            <th>Full Name</th>
                                            <th>Phone</th>
                                            <th class="text-center">Total item</th>
                                            <th class="text-center">Total money</th>
                                            <th class="text-center">Status</th>
                                            <th class="text-center">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody ng-repeat="order in pagerOrder.orders| filter: searchtxt | myfilter: startDate: endDate: 'createDate'"
                                           class="table-border-bottom-0">
                                        <tr>
                                            <td>
                                                <i class="fab fa-vuejs fa-lg text-success me-3"></i>
                                                <strong>{{order.id}}</strong>
                                            </td>
                                            <td>{{order.fullName}}</td>
                                            <td>{{order.phone}}</td>
                                            <td class="text-center">{{order.totalItem}}</td>
                                            <td class="text-center">{{order.totalMoney | currency : "" : 0}}$</td>
                                            <td class="text-center">
                                                <div style="font-weight: bold;">
                                                    <span class="badge me-1 {{order.status}}">{{order.status}}</span>
                                                </div>
                                            </td>
                                            <td class="text-center">
                                                <a ng-click="viewOrderDetail(order.id)" class="dropdown-item"
                                                    data-bs-toggle="modal" data-bs-target="#largeModal"
                                                    href="javascript:void(0);">
                                                    <i class='bx bx-show'></i>
                                                </a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div ng-model="message" class="text-center">{{message}}</div>
                    <div class="demo-inline-spacing">
                        <!-- Basic Pagination -->
                        <nav aria-label="Page navigation">
                            <ul class="pagination">
                                <li class="page-item first" ng-click="pagerOrder.first()">
                                    <a class="page-link"><i class="tf-icon bx bx-chevrons-left"></i></a>
                                </li>
                                <li class="page-item prev" ng-click="pagerOrder.previous()">
                                    <a class="page-link"><i class="tf-icon bx bx-chevron-left"></i></a>
                                </li>
                                <li class="page-item">
                                    <a class="page-link">{{pagerOrder.page+1}} of {{pagerOrder.count}}</a>
                                </li>
                                <li class="page-item next" ng-click="pagerOrder.next()">
                                    <a class="page-link"><i class="tf-icon bx bx-chevron-right"></i></a>
                                </li>
                                <li class="page-item last" ng-click="pagerOrder.last()">
                                    <a class="page-link"><i class="tf-icon bx bx-chevrons-right"></i></a>
                                </li>
                            </ul>
                        </nav>
                        <!--/ Basic Pagination -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</body>

</html>